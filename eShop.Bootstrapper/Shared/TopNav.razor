@inject CounterStore counterStore
@using eShop.Web.CustomerPortal.Controls

<div class="navbar navbar-expand-lg navbar-dark bg-dark">
    <ul class="navbar-nav w-100">
        <li class="nav-item">
            <a class="navbar-brand" href="">eShop</a>
        </li>
        <li class="nav-item px-3">
            <NavLink class="nav-link" href="examples">
                <span class="oi oi-plus" aria-hidden="true"></span> Examples
            </NavLink>
        </li>
        <li class="nav-item px-3">
            <NavLink class="nav-link" href="counter">
                <span class="oi oi-plus" aria-hidden="true"></span> Counter : @counterStore.GetState().Count
            </NavLink>
        </li>
       @* <AuthorizeView>
            <Authorized>
                <li class="nav-item">
                    <a class="nav-link" href="outstandingorders">Outstanding Orders</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="processedorders">Processed Orders</a>
                </li>                
            </Authorized>
        </AuthorizeView>        *@
        <li class="nav-item ml-auto">
           @* <authorizeview>
                <authorized>*@
                  @*  <navlink class="nav-link" href="/logout">
                        sign out
                    </navlink>
                </authorized>*@
@*                <notauthorized>
*@                    <navlink class="nav-link" href="cart">
                        <CartComponenet></CartComponenet>
                    </navlink>
@*                </notauthorized>
*@@*            </authorizeview>
*@        </li>
    </ul>
</div>

@code {
      protected override void OnInitialized()
    {
        base.OnInitialized();
        counterStore.AddStateChangeListeners(() => { StateHasChanged(); });
    }

}
